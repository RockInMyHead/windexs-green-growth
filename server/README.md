# Windexs Backend API

Этот backend API предназначен для обработки форм обратной связи с сайта Windexs Реклама.

## Настройка

1. Установите зависимости:
```bash
npm install
```

2. Настройте переменные окружения в файле `.env`:
```env
SMTP_API_KEY=YOUR_API_KEY_HERE
EMAIL_USER=p_k7@mail.ru
TO_EMAIL=p_k7@mail.ru
```

**ВАЖНО:**
1. Получите API ключ на сайте [smtp.bz](https://smtp.bz) и замените `YOUR_API_KEY_HERE` на ваш реальный API ключ.

2. **ВЕРИФИЦИРУЙТЕ домен mail.ru** в панели управления smtp.bz:
   ```
   Шаги верификации:
   1. Зайдите в панель управления: https://smtp.bz/panel/domain
   2. Добавьте домен "mail.ru"
   3. Следуйте инструкциям по верификации (обычно нужно добавить TXT запись в DNS)
   4. Дождитесь подтверждения верификации
   5. Только после успешной верификации раскомментируйте код реальной отправки в server.js
   ```

   **Пока домен не верифицирован, форма работает в режиме имитации отправки.**

3. Запустите сервер:
```bash
npm start
```

Для разработки используйте:
```bash
npm run dev
```

Сервер будет запущен на порту 3001.

## API Endpoints

### POST /api/contact

Отправляет email с данными формы обратной связи.

**Тело запроса:**
```json
{
  "name": "Имя клиента",
  "email": "client@example.com",
  "phone": "Телефон (опционально)",
  "message": "Сообщение клиента"
}
```

**Ответ при успехе:**
```json
{
  "success": true,
  "message": "Заявка успешно отправлена!"
}
```

**Ответ при ошибке:**
```json
{
  "success": false,
  "message": "Описание ошибки"
}
```

## SMTP Настройки

- **Хост:** connect.smtp.bz
- **Порт:** 2525
- **Безопасность:** false (для порта 2525)
- **Аутентификация:** требуется

Если порт 2525 не работает, попробуйте:
- **TLS порт:** 587 (secure: false)
- **SSL порт:** 465 (secure: true)
